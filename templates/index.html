<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="AI-powered healthcare risk prediction system using machine learning to assess patient risk levels">
    <title>Healthcare Risk Prediction | AI-Powered Medical Assessment</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">üè•</div>
            <h1>Healthcare Risk Prediction</h1>
            <p class="subtitle">AI-Powered Patient Risk Assessment System</p>
        </header>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Prediction Form -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">
                        <span class="card-title-icon">üìã</span>
                        Patient Information
                    </h2>
                    <p class="card-description">Enter patient details to predict risk level</p>
                </div>

                <form method="POST" id="predictionForm">
                    <div class="form-grid">
                        <!-- Age -->
                        <div class="form-group">
                            <label for="age">üë§ Age</label>
                            <input type="number" id="age" name="age" min="0" max="120" required placeholder="Enter age">
                        </div>

                        <!-- Gender -->
                        <div class="form-group">
                            <label for="gender">‚öß Gender</label>
                            <select id="gender" name="gender" required>
                                <option value="">Select gender</option>
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                            </select>
                        </div>

                        <!-- Blood Type -->
                        <div class="form-group">
                            <label for="blood_type">ü©∏ Blood Type</label>
                            <select id="blood_type" name="blood_type" required>
                                <option value="">Select blood type</option>
                                <option value="A+">A+</option>
                                <option value="A-">A-</option>
                                <option value="B+">B+</option>
                                <option value="B-">B-</option>
                                <option value="AB+">AB+</option>
                                <option value="AB-">AB-</option>
                                <option value="O+">O+</option>
                                <option value="O-">O-</option>
                            </select>
                        </div>

                        <!-- Medical Condition -->
                        <div class="form-group">
                            <label for="medical_condition">üè• Medical Condition</label>
                            <select id="medical_condition" name="medical_condition" required>
                                <option value="">Select condition</option>
                                <option value="Diabetes">Diabetes</option>
                                <option value="Hypertension">Hypertension</option>
                                <option value="Asthma">Asthma</option>
                                <option value="Arthritis">Arthritis</option>
                                <option value="Cancer">Cancer</option>
                                <option value="Obesity">Obesity</option>
                            </select>
                        </div>

                        <!-- Admission Type -->
                        <div class="form-group">
                            <label for="admission_type">üöë Admission Type</label>
                            <select id="admission_type" name="admission_type" required>
                                <option value="">Select admission type</option>
                                <option value="Emergency">Emergency</option>
                                <option value="Elective">Elective</option>
                                <option value="Urgent">Urgent</option>
                            </select>
                        </div>

                        <!-- Medication -->
                        <div class="form-group">
                            <label for="medication">üíä Medication</label>
                            <select id="medication" name="medication" required>
                                <option value="">Select medication</option>
                                <option value="Aspirin">Aspirin</option>
                                <option value="Ibuprofen">Ibuprofen</option>
                                <option value="Penicillin">Penicillin</option>
                                <option value="Paracetamol">Paracetamol</option>
                                <option value="Lipitor">Lipitor</option>
                            </select>
                        </div>

                        <!-- Insurance Provider -->
                        <div class="form-group">
                            <label for="insurance_provider">üõ°Ô∏è Insurance Provider</label>
                            <select id="insurance_provider" name="insurance_provider" required>
                                <option value="">Select insurance provider</option>
                                <option value="Blue Cross">Blue Cross</option>
                                <option value="Aetna">Aetna</option>
                                <option value="Cigna">Cigna</option>
                                <option value="UnitedHealthcare">UnitedHealthcare</option>
                                <option value="Medicare">Medicare</option>
                            </select>
                        </div>

                        <!-- Room Number -->
                        <div class="form-group">
                            <label for="room_number">üö™ Room Number</label>
                            <input type="number" id="room_number" name="room_number" min="100" max="500" required
                                placeholder="Enter room number">
                        </div>

                        <!-- Billing Amount -->
                        <div class="form-group">
                            <label for="billing_amount">üí∞ Billing Amount ($)</label>
                            <input type="number" id="billing_amount" name="billing_amount" min="0" step="0.01" required
                                placeholder="Enter billing amount">
                        </div>

                        <!-- Submit Button -->
                        <button type="submit" class="btn-submit" id="submitBtn">
                            <span>üîç Predict Risk Level</span>
                        </button>
                    </div>
                </form>
            </div>

            <!-- Information Card -->
            <div class="card info-card">
                <div class="card-header">
                    <h2 class="card-title">
                        <span class="card-title-icon">‚ÑπÔ∏è</span>
                        About This System
                    </h2>
                    <p class="card-description">How our AI prediction works</p>
                </div>

                <div class="info-item">
                    <div class="info-item-title">ü§ñ Machine Learning</div>
                    <div class="info-item-description">
                        Our system uses K-means clustering with PCA dimensionality reduction to analyze patient data and
                        predict risk levels.
                    </div>
                </div>

                <div class="info-item">
                    <div class="info-item-title">üìä Risk Categories</div>
                    <div class="info-item-description">
                        <strong>Low Risk:</strong> Minimal intervention needed<br>
                        <strong>Medium Risk:</strong> Regular monitoring recommended<br>
                        <strong>High Risk:</strong> Immediate attention required
                    </div>
                </div>

                <div class="info-item">
                    <div class="info-item-title">üîí Data Privacy</div>
                    <div class="info-item-description">
                        All patient information is processed securely and is not stored permanently. Your privacy is our
                        priority.
                    </div>
                </div>

                <div class="info-item">
                    <div class="info-item-title">‚ö° Instant Results</div>
                    <div class="info-item-description">
                        Get real-time risk assessment powered by advanced machine learning algorithms trained on
                        healthcare data.
                    </div>
                </div>
            </div>

            <!-- Result Display -->
            {% if result %}
            <div class="card result-card">
                <div
                    class="result-icon {% if result == 'Low Risk' %}low-risk{% elif result == 'Medium Risk' %}medium-risk{% else %}high-risk{% endif %}">
                    {% if result == 'Low Risk' %}
                    ‚úÖ
                    {% elif result == 'Medium Risk' %}
                    ‚ö†Ô∏è
                    {% else %}
                    üö®
                    {% endif %}
                </div>
                <div class="result-label">Prediction Result</div>
                <div class="result-value">{{ result }}</div>
                <div class="result-description">
                    {% if result == 'Low Risk' %}
                    The patient shows minimal risk factors. Continue with standard care protocols and routine check-ups.
                    {% elif result == 'Medium Risk' %}
                    The patient requires regular monitoring. Consider additional preventive measures and follow-up
                    appointments.
                    {% else %}
                    The patient shows high risk factors. Immediate medical attention and comprehensive care plan
                    recommended.
                    {% endif %}
                </div>
            </div>
            {% endif %}
        </div>
    </div>

    <script>
        // Form submission with loading state
        const form = document.getElementById('predictionForm');
        const submitBtn = document.getElementById('submitBtn');

        form.addEventListener('submit', function (e) {
            submitBtn.classList.add('loading');
            submitBtn.querySelector('span').textContent = 'Analyzing...';
        });

        // Smooth scroll to result
        {% if result %}
        window.addEventListener('load', function () {
            const resultCard = document.querySelector('.result-card');
            if (resultCard) {
                resultCard.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        });
        {% endif %}
    </script>
</body>

</html>